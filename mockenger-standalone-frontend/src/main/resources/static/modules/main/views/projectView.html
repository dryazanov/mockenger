Current project - {{data.currentProject.name}}

<br/>

<div>
    <ul ng-repeat="group in data.groupsList track by $index">
        <li ng-click="loadGroupRequests(group)">{{$index + 1}}. {{group.name}} Recording = {{group.recording}}</li>
    </ul>
</div>

<hr/>


<div ng-if="data.currentGroup">
    <h3>{{data.currentGroup.name}}</h3>
    Search: <input type="text" ng-model="data.requestQuery">
    Sort by:
    <select ng-model="data.orderProp">
        <option value="name">Name</option>
        <option value="method">Method</option>
    </select>

    Current page: {{data.currentPage + 1}} Total pages: {{pageCount() + 1}}
    <div ng-if="pageCount() >=0">
        <ul ng-repeat="request in data.requestsList  | filter:data.requestQuery | orderBy:data.orderProp | offset: data.currentPage * data.itemsPerPage |
        limitTo: data.itemsPerPage track by $index ">
            <li ng-click="selectRequest(request)">{{data.currentPage === 0 ? $index + 1 : data.currentPage *
                data.itemsPerPage + $index + 1}}. {{request.name}} {{request.method}} : {{request.path.value}}
            </li>
        </ul>
    </div>
    <div ng-if="pageCount() < 0">
        <h4>No results.</h4>
    </div>
    <hr/>
    <div class="pagination">
        <ul>
            <li ng-class="prevPageDisabled()">
                <a href ng-click="prevPage()">« Prev</a>
            </li>
            <li ng-repeat="n in range()"
                ng-class="{active: n == data.currentPage}" ng-click="setPage(n)">
                {{n+1}}
            </li>
            <li ng-class="nextPageDisabled()">
                <a href ng-click="nextPage()">Next »</a>
            </li>
        </ul>
    </div>

</div>
<div ng-if="!data.currentGroup">
    <h2>Please select a group</h2>
</div>

<hr/>

<div ng-if="data.currentRequest">
    Selected request - {{data.currentRequest.name}} {{data.currentRequest.method}} : {{data.currentRequest.path.value}}
    <br/>
    {{data.currentRequest.body}}
</div>
<div ng-if="!data.currentRequest">
    <h2>Please select a request</h2>
</div>


<a href="#/">Back to project list</a>