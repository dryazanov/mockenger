Current project - {{data.currentProject.name}}

<br/>

<div>
    <ul ng-repeat="group in data.groupsList track by $index">
        <li ng-click="loadGroupRequests(group)">{{$index + 1}}. {{group.name}} Recording = {{group.recording}}</li>
    </ul>
</div>

<hr/>


<div ng-if="data.currentGroup">
    <h3>{{data.currentGroup.name}}</h3>
    Search: <input type="text" ng-model="data.requestsList.requestQuery">
    Sort by:
    <select ng-model="data.requestsList.orderProp">
        <option value="name">Name</option>
        <option value="method">Method</option>
    </select>

    Current page: {{data.requestsList.paginator.currentPage + 1}} Total pages: {{data.requestsList.paginator.pageCount() + 1}}
    <div ng-if="data.requestsList.paginator.pageCount() >=0">
        <ul ng-repeat="request in data.requestsList.data  | filter:data.requestsList.requestQuery | orderBy:data.requestsList.orderProp | offset: data.requestsList.paginator.currentPage * data.requestsList.paginator.itemsPerPage |
        limitTo: data.requestsList.paginator.itemsPerPage track by $index ">
            <li ng-click="selectRequest(request)">{{data.requestsList.paginator.currentPage === 0 ? $index + 1 : data.requestsList.paginator.currentPage *
                data.requestsList.paginator.itemsPerPage + $index + 1}}. {{request.name}} {{request.method}} : {{request.path.value}}
            </li>
        </ul>
    </div>
    <div ng-if="data.requestsList.paginator.pageCount() < 0">
        <h4>No results.</h4>
    </div>
    <hr/>
    <div class="pagination">
        <ul>
            <li ng-class="data.requestsList.paginator.prevPageDisabled()">
                <a href ng-click="data.requestsList.paginator.prevPage()">« Prev</a>
            </li>
            <li ng-repeat="n in data.requestsList.paginator.range()"
                ng-class="{active: n == data.requestsList.paginator.currentPage}" ng-click="data.requestsList.paginator.setPage(n)">
                {{n+1}}
            </li>
            <li ng-class="data.requestsList.paginator.nextPageDisabled()">
                <a href ng-click="data.requestsList.paginator.nextPage()">Next »</a>
            </li>
        </ul>
    </div>

</div>
<div ng-if="!data.currentGroup">
    <h2>Please select a group</h2>
</div>

<hr/>

<div ng-if="data.currentRequest">
    Selected request - {{data.currentRequest.name}} {{data.currentRequest.method}} : {{data.currentRequest.path.value}}
    <br/>
    {{data.currentRequest.body}}
</div>
<div ng-if="!data.currentRequest">
    <h2>Please select a request</h2>
</div>


<a href="#/">Back to project list</a>