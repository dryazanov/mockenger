angular.module("mockengerClientComponents",[]),angular.module("mockengerClientComponents").constant("ENV","dev").constant("SECURITY",!0).constant("SECRET_KEY","Y2xpZW50YXBwOjEyMzQ1Ng==").constant("API_BASE_PATH","http://localhost:8080").constant("APP_VERSION","0.1-SNAPSHOT").constant("REQUESTS_PER_PAGE",10).constant("BUILD_DATE","2015-10-05T12:36:03.673Z"),angular.module("mockengerClientComponents").filter("offset",function(){return function(e,n){return n=parseInt(n,10),e.slice(n)}}),angular.module("mockengerClientComponents").factory("apiEndpointsService",["API_BASE_PATH",function(e){var n={getValuesetRestUrl:{projectTypes:function(){return e+"/valueset/projectTypes"},requestMethods:function(){return e+"/valueset/requestMethods"},transformerTypes:function(){return e+"/valueset/transformerTypes"},headers:function(){return e+"/valueset/headers"},roles:function(){return e+"/valueset/roles"}},getEventRestUrl:function(){return e+"/events/:eventId"},getProjectRestUrl:function(){return e+"/projects/:projectId"},getAccountRestUrl:function(){return e+"/accounts/:accountId"},getGroupRestUrl:function(){return n.getProjectRestUrl()+"/groups/:groupId"},getRequestRestUrl:function(){return n.getGroupRestUrl()+"/requests/:requestId"},getOAuth2AccessTokenUrl:function(){return e+"/oauth/token?grant_type=password"},getOAuth2RefreshTokenUrl:function(){return e+"/oauth/token?grant_type=refresh_token"},getOAuth2LogoutUrl:function(){return e+"/oauth/revoke"},getUserData:function(){return e+"/oauth/user"}};return n}]),angular.module("mockengerClientComponents").controller("rootController",["$rootScope","$scope","$http","$location","ngToast","ENV","SECURITY","APP_VERSION","BUILD_DATE",function(e,n,t,r,o,s,u,a,i){n.app={env:s,version:a,buildDate:i};var c={IDLE:0,LOADING:1,ERROR:2};n.setContentLoading=function(){return c.LOADING},n.setContentReady=function(){return c.IDLE},n.setContentLoadingFailed=function(){return c.ERROR},n.isContentLoading=function(e){return e===c.LOADING},n.isContentReady=function(e){return e===c.IDLE},n.isContentLoadingFailed=function(e){return e===c.ERROR},n.signOut=function(){r.path("/logout")},n.isAdmin=function(e){return!u||"ADMIN"===e},n.isManagerOrAdmin=function(e){return!u||("MANAGER"===e||n.isAdmin(e))},n.getErrorStyle=function(e){return n.hasError(e)?"has-error":""},n.hasError=function(e){return e.$invalid&&!e.$pristine},n.showGreenMessage=function(e){o.create(e)},n.showRedMessage=function(e){if(null!=e&&null!=e.data)if(null!=e.data.errors&&e.data.errors.length>0)n.showErrorsFromList(e.data.errors);else if(null!=e.data.error){var t=null;if(null!=e.data.error_description){var s=e.data.error,a=e.data.error_description;t=a,u&&("unauthorized"==s||"invalid_token"==s&&a.indexOf("Invalid refresh token (expired)")>=0?(t="Authorization required",r.path("/login")):"invalid_grant"==s&&a.indexOf("Bad credentials")>=0&&(t="The username or password is incorrect"))}else t=e.data.error;null!=t&&o.create({className:"danger",dismissOnTimeout:!1,content:t})}},n.showErrorsFromList=function(e){for(var n=0,t=e.length;n<t;n++)o.create({className:"danger",dismissOnTimeout:!1,content:e[n]})}}]),angular.module("mockengerClientComponents").directive("mkngrNavbar",["$cookies","SECURITY",function(e,n){return{restrict:"E",templateUrl:"/modules/components/directives/mkngrNavbar.html",link:function(t,r){n&&(t.user=null,null!=e.get("user")&&(t.user=angular.fromJson(e.get("user"))))}}}]),angular.module("mockengerClientComponents").factory("httpProviderInterceptor",["$q","$location","$cookies","$injector",function(e,n,t,r){return{request:function(e){return null==e.url.match(".*?\\.html")&&null!=t.get("accessToken")&&"undefined"!=t.get("accessToken")&&(e.headers.Authorization="Bearer "+t.get("accessToken")),e},responseError:function(n){if(null!=n&&401==n.status&&"invalid_token"==n.data.error){var o=n.data.error_description;if(o.indexOf("Access token expired")>=0||o.indexOf("Invalid access token")>=0){var s=e.defer();return t.remove("accessToken"),r.get("tokenService").getRefreshToken(s),s.promise.then(function(){return r.get("$http")(n.config)})}}return e.reject(n)}}}]);
//# sourceMappingURL=../maps/scripts/mockengerComponents.js.map
